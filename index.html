<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CA Department Fest 2026</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
/* üåä General Styling */
body {
  font-family: 'Garamond', serif;
  font-weight: 600;
  background: linear-gradient(135deg, #e3f2fd, #bbdefb, #90caf9, #64b5f6, #42a5f5);
  color: #0d1b4c;
  text-align: center;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Hide all sections initially */
section { display: none; }

/* üü¶ Buttons */
button {
  width: 85%;
  max-width: 350px;
  padding: 14px 10px;
  margin: 12px auto;
  border: none;
  border-radius: 10px;
  background: #0d47a1;
  color: #e3f2fd;
  font-size: 16px;
  cursor: pointer;
  transition: 0.4s;
  display: block;
  box-shadow: 0 6px 10px rgba(0,0,0,0.25);
  animation: pulseButton 2s infinite;
}
button:hover {
  background: #1565c0;
  color: #ffffff;
  box-shadow: 0 10px 15px rgba(0,0,0,0.3);
}

@keyframes pulseButton {
  0% { transform: scale(1); box-shadow: 0 0 10px rgba(13,71,161,0.4); }
  50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(13,71,161,0.7); }
  100% { transform: scale(1); box-shadow: 0 0 10px rgba(13,71,161,0.4); }
}

/* üì∏ Image Animation */
.fest-image {
  width: 90%;
  max-width: 350px;
  margin: 40px auto;
  border-radius: 15px;
  animation: pulseImage 2s infinite;
  box-shadow: 0 0 25px rgba(33, 150, 243, 0.6);
  display: block;
}
@keyframes pulseImage {
  0% { transform: scale(1); box-shadow: 0 0 20px rgba(33,150,243,0.4); }
  50% { transform: scale(1.05); box-shadow: 0 0 50px rgba(33,150,243,0.8); }
  100% { transform: scale(1); box-shadow: 0 0 20px rgba(33,150,243,0.4); }
}

/* üßæ Form Styles */
form {
  margin: 40px auto;
  width: 90%;
  max-width: 360px;
  background: linear-gradient(135deg, #bbdefb, #e3f2fd);
  padding: 25px;
  border-radius: 15px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}
input {
  width: 100%;
  margin: 10px 0;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #90caf9;
  font-size: 15px;
  outline: none;
  font-family: 'Garamond', serif;
}
input:focus {
  border: 2px solid #1565c0;
}

/* ‚úçÔ∏è Typing Effect */
.typing {
  display: inline-block;
  overflow: hidden;
  border-right: 3px solid #0d47a1;
  white-space: nowrap;
  animation: typing 3s steps(30, end), blink 0.8s step-end infinite;
  font-size: 22px;
  font-weight: 700;
  color: #0d47a1;
  font-family: 'Garamond', serif;
}
@keyframes typing { from {width:0;} to {width:100%;} }
@keyframes blink { 50% { border-color: transparent; } }

/* üßæ Table Styling */
table {
  margin: 20px auto;
  width: 95%;
  border-collapse: collapse;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  font-size: 14px;
  font-family: 'Garamond', serif;
}
th, td {
  padding: 8px;
}
th {
  background-color: #0d47a1;
  color: #e3f2fd;
}

/* üì± Mobile Adjustments */
@media (max-width: 600px) {
  h1, h2, h3 { font-size: 22px; line-height: 1.3; }
  .typing { font-size: 18px; }
}

/* üì± Enhanced Mobile Responsiveness */
@media (max-width: 480px) {

  body {
    padding: 10px;
    font-size: 15px;
  }

  h1, h2, h3 {
    font-size: 20px;
    line-height: 1.3;
    margin: 10px 0;
  }

  button {
    width: 95%;
    font-size: 15px;
    padding: 12px;
    margin: 8px auto;
  }

  form {
    width: 95%;
    padding: 20px;
  }

  input {
    font-size: 14px;
    padding: 10px;
  }

  .fest-image {
    width: 100%;
    max-width: 300px;
    margin: 20px auto;
  }

  table {
    width: 100%;
    font-size: 13px;
  }

  th, td {
    padding: 6px;
  }

  .carousel-item img {
    height: auto;
    border-radius: 10px;
  }
}

</style>
</head>

<body>

<!-- üè† HOME -->
<section id="home" style="display:block;">
  <h1 style="margin-top:50px;font-weight:bold;">Welcome to CA Department Fest 2025-2026</h1>
  <div>
    <button onclick="showPage('register')">Register</button>
    <button onclick="showPage('login')">Login</button>
    <button onclick="showPage('events')">Events</button>
    <button onclick="showPage('participants')">Participants</button>
    <button onclick="showPage('gallery')">Gallery</button>
  </div>
  <img src="fest.png" alt="CA Fest 2026" class="fest-image">
</section>

<!-- üìù REGISTER -->
<section id="register">
  <h2>CA Department Registration</h2>
  <form id="registerForm">
    <input type="text" id="rname" placeholder="Name" required><br>
    <input type="email" id="remail" placeholder="Email" required><br>
    <input type="password" id="rpassword" placeholder="Password" required><br>
    <input type="text" id="rcontact" placeholder="Contact" required><br>
    <input type="text" id="rbranch" placeholder="Branch" required><br>
    <button type="submit">Register</button>
    <button type="button" onclick="showPage('home')">Back</button>
  </form>
</section>

<!-- üîê LOGIN -->
<section id="login">
  <h2>Login</h2>
  <form id="loginForm">
    <input type="email" id="lemail" placeholder="Email" required><br>
    <input type="password" id="lpassword" placeholder="Password" required><br>
    <button type="submit">Login</button>
    <button type="button" onclick="showPage('home')">Back</button>
  </form>
</section>

<!-- üéâ EVENTS -->
<section id="events">
  <h2 class="typing">Welcome, <span id="username"></span>!</h2>
  <h3>Available Events</h3>
  <table id="eventsTable" class="table table-bordered table-striped text-center"></table>
  <button onclick="showPage('participants')">View Participants</button>
  <button onclick="showPage('home')">Back to Home</button>
</section>

<!-- üßç PARTICIPANTS -->
<section id="participants">
  <h2>Registered Participants</h2>
  <table id="participantsTable" class="table table-bordered table-striped text-center"></table>
  <button onclick="showPage('home')">Back to Home</button>
</section>

<!-- üñºÔ∏è GALLERY -->
<section id="gallery">
  <h1>Gallery - CA Department Fest 2026</h1>
  <div id="festCarousel" class="carousel slide mx-auto" style="max-width:90%" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active"><img src="image1.png" class="d-block w-100 rounded-4"></div>
      <div class="carousel-item"><img src="image2.png" class="d-block w-100 rounded-4"></div>
      <div class="carousel-item"><img src="image3.png" class="d-block w-100 rounded-4"></div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#festCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#festCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
  <button onclick="showPage('home')" class="btn btn-primary mt-4">‚Üê Back to Home</button>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
/* üß≠ Page Switching */
function showPage(id){
  document.querySelectorAll("section").forEach(s => s.style.display = "none");
  document.getElementById(id).style.display = "block";
  if(id==='events') loadEvents();
  if(id==='participants') loadParticipants();
}

/* üìù Register */
document.getElementById('registerForm').addEventListener('submit', e => {
  e.preventDefault();
  const user = {
    name: rname.value,
    email: remail.value,
    password: rpassword.value,
    contact: rcontact.value,
    branch: rbranch.value
  };
  let users = JSON.parse(localStorage.getItem('users')) || [];
  users.push(user);
  localStorage.setItem('users', JSON.stringify(users));
  alert('Registered successfully!');
  showPage('login');
});

/* üîê Login */
document.getElementById('loginForm').addEventListener('submit', e => {
  e.preventDefault();
  const users = JSON.parse(localStorage.getItem('users')) || [];
  const user = users.find(u => u.email === lemail.value && u.password === lpassword.value);
  if(user){
    localStorage.setItem('loggedInUser', JSON.stringify(user));
    alert('Welcome ' + user.name);
    showPage('events');
  } else {
    alert('Invalid credentials!');
  }
});

/* üéâ Events */
const events = [
  {id:1, name:"Coding Hackathon"},
  {id:2, name:"Web Design Challenge"},
  {id:3, name:"Quiz-o-Tech"},
  {id:4, name:"Gaming Arena"}
];
localStorage.setItem('events', JSON.stringify(events));

function loadEvents(){
  const user = JSON.parse(localStorage.getItem('loggedInUser'));
  if(!user){ alert("Please login first."); showPage('login'); return; }
  document.getElementById('username').innerText = user.name;
  const table = document.getElementById('eventsTable');
  table.innerHTML = `<tr><th>ID</th><th>Event Name</th><th>Action</th></tr>` +
    events.map(e => `
      <tr>
        <td>${e.id}</td>
        <td>${e.name}</td>
        <td><button onclick="registerEvent(${e.id})">Register</button></td>
      </tr>
    `).join('');
}

function registerEvent(id){
  const user = JSON.parse(localStorage.getItem('loggedInUser'));
  const participants = JSON.parse(localStorage.getItem('participants')) || [];
  participants.push({user:user.name,email:user.email,event:events.find(x=>x.id==id).name});
  localStorage.setItem('participants', JSON.stringify(participants));
  alert('You registered for ' + events.find(x=>x.id==id).name);
}

/* üßç Participants */
function loadParticipants(){
  const participants = JSON.parse(localStorage.getItem('participants')) || [];
  const table = document.getElementById('participantsTable');
  table.innerHTML = `<tr><th>Name</th><th>Email</th><th>Event</th></tr>` +
    participants.map(p => `<tr><td>${p.user}</td><td>${p.email}</td><td>${p.event}</td></tr>`).join('');
}
</script>
</body>
</html>
